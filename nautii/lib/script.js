$(document).ready(function(){let e,t;const o=()=>$(window).width()<992;$(window).on("load",function(){$("body").addClass("loaded"),$(".preloader").addClass("fade-out"),o()||$(window).on("scroll",function(){const e=$(".music-player-bar"),t=$("#home-slider").outerHeight();$(window).scrollTop()>=t-e.outerHeight()?e.addClass("sticky-top"):e.removeClass("sticky-top")}),new Swiper("#home-slider",{loop:!0,effect:"fade",keyboard:{enabled:!0},navigation:{nextEl:"#home-slider .swiper-button-next",prevEl:"#home-slider .swiper-button-prev"},autoplay:{delay:6e3,disableOnInteraction:!1,pauseOnMouseEnter:!0}})}),$(".navigation-wrapper").on("mouseenter",function(){clearTimeout(t),$("body").addClass("navHover")}).on("mouseleave",function(){t=setTimeout(function(){$("body").removeClass("navHover")},250)}),$(".gallery-item a").each(function(){const e=$(this).data("caption")||"View Image";$(this).append(`\n <div class="gallery-overlay">\n <div class="gallery-border"></div>\n <div class="gallery-content">\n <h5>${e}</h5>\n </div>\n </div>\n `)});const a=document.getElementById("navbarContent"),s=new bootstrap.Collapse(a,{toggle:!1}),n=document.querySelector("#mobile-header .navbar-toggler");a&&(a.addEventListener("show.bs.collapse",()=>n.classList.add("active")),a.addEventListener("hide.bs.collapse",()=>n.classList.remove("active"))),$("#desktopNav a, #navbarContent .nav-link, .navbar-brand[href=\"#home\"]").on("click",function(e){e.preventDefault();const n=this.getAttribute("href"),i=$(n);if("#home"===n)window.scrollTo({top:0,behavior:"smooth"});else if(i.length){let e=o()?$("#mobile-header").outerHeight()||60:$(".music-player-bar").outerHeight()||60;window.scrollTo({top:i.offset().top-e,behavior:"smooth"})}clearTimeout(t),o()&&a.classList.contains("show")&&s.hide(),o()||$("body").removeClass("navHover")});const i=document.getElementById("song-toast"),l=new bootstrap.Toast(i),d=document.getElementById("toast-song-info");let r=!0;const c=[{title:"Febreeze",artist:"nautii",src:"../nautii/lib/NAUTII-Febreze.mp3"},{title:"The Signal",artist:"nautii",src:"../nautii/lib/NAUTII-The Signal.mp3"}];let m=0;function g(e){const t=c[e];playerDesktop.source={type:"audio",sources:[{src:t.src,type:"audio/mp3"}]},audioMobile&&(audioMobile.src=t.src,audioMobile.load())}function h(){m=(m+1)%c.length,g(m),playerDesktop.play(),audioMobile&&audioMobile.play()}function p(e){r||(d.innerHTML=`<strong>${e.title}</strong> by ${e.artist}`,l.show())}function f(){r&&(r=!1,p(c[m]))}audioMobile=document.getElementById("audio-player-mobile"),playerDesktop=new Plyr("#audio-player-desktop"),playerDesktop&&(playerDesktop.on("play",()=>{f(),p(c[m])}),playerDesktop.on("ended",h)),audioMobile&&(()=>{const e=document.getElementById("play-pause-btn-mobile"),t=document.getElementById("volume-btn-mobile"),o=t.querySelector("i");e.addEventListener("click",()=>audioMobile.paused?audioMobile.play():audioMobile.pause()),audioMobile.addEventListener("play",()=>{e.innerHTML='<i class="fas fa-pause"></i>',f(),p(c[m])}),audioMobile.addEventListener("pause",()=>e.innerHTML='<i class="fas fa-play"></i>'),audioMobile.addEventListener("ended",()=>{e.innerHTML='<i class="fas fa-play"></i>',h()}),t.addEventListener("click",()=>audioMobile.muted=!audioMobile.muted),audioMobile.addEventListener("volumechange",()=>{o.className=audioMobile.muted||0===audioMobile.volume?"fas fa-volume-mute":"fas fa-volume-up"})})(),g(m);const u=document.querySelectorAll("#main-container .section"),w=document.querySelectorAll("#desktopNav a"),y=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const t=e.target.getAttribute("id");w.forEach(e=>{e.parentElement.classList.toggle("active",e.getAttribute("href")===`#${t}`)})}})},{root:null,threshold:.5});u.forEach(e=>y.observe(e));const b=$("#scroll-to-top");$(window).on("scroll",()=>{b.toggleClass("visible",$(window).scrollTop()>300)}),b.on("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});const v=$("#theme-switcher, #theme-switcher-mobile"),k=()=>{const e="light"===localStorage.getItem("theme");$("body").toggleClass("dark-mode",!e),v.find("i").toggleClass("fa-moon",e).toggleClass("fa-sun",!e)};v.on("click",function(){const e=$("body"),t=$("#theme-transition-overlay");e.hasClass("dark-mode")?t.css("background-color","#fff"):t.css("background-color","#000"),t.addClass("active"),setTimeout(function(){e.hasClass("dark-mode")?localStorage.setItem("theme","light"):localStorage.setItem("theme","dark"),k(),setTimeout(function(){t.removeClass("active")},50)},500)}),k();const C=document.getElementById("glitchModal");if(C){const E=new bootstrap.Modal(C),S=document.getElementById("ttl"),x=`╔════════════════════════════════╗\n ║ * * Copyright (c) Nautii * * ║\n ╚════════════════════════════════╝\n\n SYNCING... RHYTHM_MODULE\n CALIBRATING... BASS_THUMPER\n UPLOADING... SUBCONSCIOUS_MELODY\n DECODING... LATE_NIGHT_GROOVE\n HARMONICS... STABILIZED_SENSUAL\n SIGNATURE VERIFIED: <span class="primary">nautii</span>\n\n Play <span data-action="y">Y</span>/<span data-action="n">N</span>`;function L(e,t,o,a){if(e&&C.classList.contains("show")){if(o<t.length){const s=t.charAt(o);"<"===s?(e.innerHTML+=t.substring(o,t.indexOf(">",o)+1),setTimeout(()=>L(e,t,t.indexOf(">",o)+1,a),24)):(e.innerHTML+=s,setTimeout(()=>L(e,t,o+1,a),24))}else a&&a()}}function T(e){"y"===e?(window.open("https://samuelbutcher.net/nautii/index.html","_blank"),E.hide()):"n"===e&&E.hide()}const A=e=>{const t=e.key.toLowerCase();T(t)},q=e=>{const t=e.target.dataset.action;T(t)};C.addEventListener("shown.bs.modal",()=>{S.innerHTML="",L(S,x,0,()=>{S&&(S.innerHTML+='<span class="cursor">█</span>')}),document.addEventListener("keydown",A),S.addEventListener("click",q)}),C.addEventListener("hide.bs.modal",()=>{document.removeEventListener("keydown",A),S&&S.removeEventListener("click",q)}),$(".dont-click-me").on("click",function(){E.show()})}if(document.querySelector(".vhs-slide")){Splitting();let e=5400;const t=document.getElementById("vhs-seconds"),o=document.getElementById("vhs-minutes"),a=document.querySelector(".vhs-counter");function s(e){return e.toString().padStart(2,"0")}function n(){const s=`1234567890@#$%^&*()_+-=[]{};'\\|,./<>?~`;o.textContent=s.charAt(Math.floor(Math.random()*s.length))+s.charAt(Math.floor(Math.random()*s.length)),t.textContent=s.charAt(Math.floor(Math.random()*s.length))+s.charAt(Math.floor(Math.random()*s.length)),a.classList.add("vhs-glitch"),setTimeout(()=>{a.classList.remove("vhs-glitch"),i()},1e3)}function i(){if(a&&e>=0){const n=Math.floor(e/60),i=e%60;o.innerHTML=s(n),t.innerHTML=s(i)}}const l=setInterval(()=>{e>0?e--:clearInterval(l),i()},1e3);!function d(){n(),setTimeout(d,5e3+3e3*Math.random())}()}});